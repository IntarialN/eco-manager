# Дорожная карта проекта (MVP)

Документ описывает этапы реализации MVP личного кабинета, ключевые задачи, зависимости и критерии готовности. После выполнения каждого этапа фиксируем результат в `docs/completed/`.

## 1. Подготовительный этап (Неделя 0–1)
- Уточнение требований, закрытие открытых вопросов (req_11, НПА, API Bubble).
- Выбор технологического стека для фронтенда, сервисов, хранилищ, брокеров.
- Настройка репозитория и базовой структуры (см. `docs/architecture/code-structure.md`).
- Организация CI/CD чернового пайплайна (lint, тесты).

**Критерий готовности**: утверждённый стек, настроенный репозиторий, обновлённые документы по требованиям.

## 2. Архитектурный каркас (Неделя 2–3)
- Реализация `auth-service`, `api-gateway`, базовой модели данных (миграции).
- Настройка RLS и начальных ролей в БД.
- Подготовка инфраструктуры (docker-compose для локалки, деплой dev-стенда).
- Реализация базового web-client с аутентификацией и пустыми страницами блоков.

**Зависимости**: завершён подготовительный этап.

**Критерий готовности**: пользователь может зарегистрироваться/войти, сервисы успешно деплоятся в dev, базовые таблицы созданы.

## 3. Блок «Карта требований» (Неделя 4–5)
- Импорт справочников требований, реализация `requirements-service`.
- Интеграция с анкетой: создание клиентов/объектов, расчёт требований.
- UI для отображения и управления требованиями (статусы, фильтры).
- Настройка истории изменений и уведомлений о новых требованиях.

**Критерий готовности**: менеджер может заполнить анкету и увидеть сгенерированные требования, менять статусы и видеть историю.

## 4. Хранилище документов (Неделя 6)
- Реализация `documents-service`, интеграция с объектным storage.
- UI для загрузки документов (с/без аудита), управление версиями.
- Связь документов с требованиями, статусами и проверкой.

**Критерий готовности**: клиент может загрузить документ, менеджер одобряет, статус требования обновляется.

## 5. Календарь и уведомления (Неделя 7)
- Реализация `calendar-service`, генерация событий по требованиям.
- Настройка напоминаний и базового notification-service (email).
- UI для календаря (список/месяц), смена статусов событий.

**Критерий готовности**: события создаются автоматически, пользователь видит календарь и получает уведомления.

## 6. Риски (Неделя 8)
- Реализация `risk-service`, расчет критичности, план действий.
- UI для управления рисками (фильтры, карточка риска).
- Интеграция с требованиями и календарём (просрочки → риски).

**Критерий готовности**: при просроченном требовании создаётся риск, пользователь видит штраф и план действий.

## 7. Договоры/счета/акты (Неделя 9)
- Реализация `billing-service`, интеграция с Bubble (pull статусов).
- UI для финансового блока.
- Связь договоров с требованиями и календарём (напоминания об оплате).

**Критерий готовности**: данные по договорам тянутся из Bubble, статусы обновляются, отображаются просрочки.

## 8. Завершение и запуск (Неделя 10)
- Тестирование (функциональное, безопасность, нагрузочное).
- Подготовка документации для пользователей и админов.
- Деплой на production, настройка мониторинга и алертинга.
- Резервное копирование — проверка процедур.

**Критерий готовности**: успешный релиз на production, чек-лист безопасности закрыт, пользователи подключены.

## 9. Дальнейшие улучшения (Post-MVP)
- Чат-бот, обратный звонок, расширенные уведомления.
- Лента изменений законодательства.
- Внешние интеграции с НПА, BI-отчётность.
- Оптимизация UX и аналитика (фичи для снижения затрат клиента).

## Граф зависимостей (упрощённый)

```
Подготовка → Архкаркас → [Карта требований → Документы → Календарь → Риски → Биллинг] → Запуск
```

## Чек-лист готовности документа

- [x] Описаны этапы MVP с задачами и критериями.
- [x] Зафиксированы зависимости между блоками.
- [x] Указаны дальнейшие улучшения.
- [ ] Актуализировать сроки и ресурсы после согласования с командой.
